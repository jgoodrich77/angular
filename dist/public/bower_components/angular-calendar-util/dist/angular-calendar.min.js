/*
 * angular-calendar
 * http://kryo2k.github.io/angular-calendar/

 * Version: 0.1.0 - 2015-03-31
 * License: GPLv2
 */
!function(a,b){"use strict";var c=.1;b.module("angular-calendar",[]).constant("CalendarVersion",c).factory("Calendar",["DateRange","$numberUtil",function(a,c){function d(a,b,c){this._boW=d.DEFAULT_BOW,this.beginningOfWeek=a,b&&c?(this.year=b,this.week=c):this.toToday()}return Object.defineProperties(d.prototype,{beginningOfWeek:{get:function(){return this._boW},set:function(a){d.validBeginningOfWeek(a)&&(this._boW=a,this.reloadWeekDates())}},week:{get:function(){return this._week},set:function(a){var b=c.clamp(c.normalize(a,1),0,54);b>53?(this.year++,b=1):1>b&&(this.year--,b=53),this._week=b,this.reloadWeekDates()}},year:{get:function(){return this._year},set:function(a){this._year=c.clamp(c.normalize(a,this.year),0),this.reloadWeekDates()}},dateRange:{get:function(){return this.getWeekDates(this.year,this.week)}},weekSpansMonths:{get:function(){var a=this.dateRange;return a.from.getMonth()!==a.to.getMonth()}},weekDates:{get:function(){return this._lWeekDates||this.reloadWeekDates(),this._lWeekDates}},isThisWeek:{get:function(){return this.week===this.nowWeek&&this.year===this.nowYear}},now:{get:function(){return new Date}},nowYear:{get:function(){return this.now.getFullYear()}},nowWeek:{get:function(){return d.dateWeek(this.now,this.beginningOfWeek)}}}),d.DAY_PER_WEEK=7,d.MS_PER_DAY=864e5,d.MS_PER_WEEK=d.MS_PER_DAY*d.DAY_PER_WEEK,d.DEFAULT_BOW=0,d.validBeginningOfWeek=function(a){return!(isNaN(a)||0>a||a>6)},d.validMonth=function(a){return!(isNaN(a)||0>a||a>11)},d.now=function(a){return b.isNumber(a)||b.isString(a)?new Date(a):a instanceof Date?new Date(a):new Date},d.nowFloor=function(a){return a=d.now(a),a.setHours(0,0,0,0),a},d.nowCeil=function(a){return a=d.now(a),a.setHours(23,59,59,999),a},d.isLeapYear=function(a){return a%4===0&&a%100!==0||a%400===0},d.isSameDay=function(a,b){return a=d.now(a),b=d.now(b),a&&b?a.getFullYear()===b.getFullYear()&&a.getMonth()===b.getMonth()&&a.getDate()===b.getDate():!1},d.isFuture=function(a,b){return b=d.now(b),a=d.now(a),a&&b?a>b:!1},d.isPast=function(a,b){return b=d.now(b),a=d.now(a),a&&b?b>a:!1},d.dateOffset=function(a,b,c){c=(c||"ms").toLowerCase(),b=d.now(b),a=isNaN(a)?0:a;var e=b.getTime(),f=!1;switch(c){case"millisecond":case"milliseconds":case"milli":case"ms":a*=1,f=!0;break;case"second":case"seconds":case"secs":case"sec":a*=1e3,f=!0;break;case"minute":case"minutes":case"mins":case"min":a*=6e4,f=!0;break;case"hours":case"hour":case"hr":a*=36e5,f=!0;break;case"days":case"day":a*=d.MS_PER_DAY,f=!0;break;case"weeks":case"week":a*=d.MS_PER_WEEK,f=!0}var g=new Date(e+(f?Math.round(a):0));if(!f){var h=g.getFullYear(),i=g.getMonth(),j=g.getDate(),k=g.getHours(),l=g.getMinutes(),m=g.getSeconds(),n=g.getMilliseconds(),o=d.isLeapYear(h),p=d.isLastDateOfMonth(h,i,j);switch(c){case"months":case"month":var q=d.clampMonth(i+a),r=h+Math.floor((i+a)/12),s=j,t=d.getLastDayOfMonth(r,q);s=Math.min(p?1/0:j,t),g.setFullYear(r,q,s);break;case"years":case"year":var u;g.setFullYear(h+Math.round(a)),u=g.getFullYear(),(o||d.isLeapYear(u))&&p&&g.setMonth(i,d.getLastDayOfMonth(u,i))}g.setHours(k,l,m,n)}return g},d.utcOffset=function(a,b){return b=isNaN(b)?d.now(a).getTimezoneOffset():b,d.dateOffset(-b,a,"minutes")},d.bowOffsetDays=function(a,b){return a=d.now(a),b=d.validBeginningOfWeek(b)?b:d.DEFAULT_BOW,b-a.getDay()},d.bowOffset=function(a,b){return d.bowOffsetDays(a,b)*d.MS_PER_DAY},d.bowNearest=function(a,b){return d.dateOffset(d.bowOffset(a,b))},d.bowEqBefore=function(a,b){var c=d.bowOffset(a,b);return c>0&&(c-=d.MS_PER_WEEK),d.dateOffset(c,a)},d.bowBefore=function(a,b){var c=d.bowOffset(a,b);return c>=0&&(c-=d.MS_PER_WEEK),d.dateOffset(c,a)},d.bowEqAfter=function(a,b){var c=d.bowOffset(a,b);return 0>c&&(c+=d.MS_PER_WEEK),d.dateOffset(c,a)},d.bowAfter=function(a,b){var c=d.bowOffset(a,b);return 0>=c&&(c+=d.MS_PER_WEEK),d.dateOffset(c,a)},d.clampMonth=function(a){return c.clamp((12+a%12)%12,0,11,0)},d.getBeginningOfYear=function(a){return d.getFirstDateOfMonth(a,0)},d.getFirstWeekDateOfYear=function(a,b){return d.bowEqBefore(d.getBeginningOfYear(a),b)},d.getLastWeekDateOfYear=function(a,b){return d.weekDates(a,53,b).to},d.getFirstDateOfMonth=function(a,b){return d.validMonth(b)||(b=(new Date).getMonth()),a=a||(new Date).getFullYear(),new Date(a,b,1,0,0,0)},d.getLastDateOfMonth=function(a,b){d.validMonth(b)||(b=(new Date).getMonth()),a=a||(new Date).getFullYear();var c=b+1;return 12===c&&(a++,c=0),d.dateOffset(-1,d.getFirstDateOfMonth(a,c))},d.isLastDateOfMonth=function(a,b,c){return c===d.getLastDayOfMonth(a,b)},d.getFirstDayOfMonth=function(a,b){var c=d.getFirstDateOfMonth(a,b);return c?c.getDate():!1},d.getLastDayOfMonth=function(a,b){var c=d.getLastDateOfMonth(a,b);return c?c.getDate():!1},d.dateUnDST=function(a,b){a=d.now(a),b=isNaN(b)?d.getFirstWeekDateOfYear(a.getFullYear()).getTimezoneOffset():b;var c=a.getTimezoneOffset();return c!==b&&a.setTime(a.getTime()+6e4*(c-b)),a},d.dateWeek=function(a,b,c){a=d.now(a);var e=d.getFirstWeekDateOfYear(a.getFullYear(),b);e.setHours(a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds());var f=(a-e)/d.MS_PER_DAY+1,g=Math.ceil(f/d.DAY_PER_WEEK);return c?[a.getFullYear(),g]:g},d.weekDates=function(c,e,f){c=c||d.now().getFullYear(),e=e||d.dateWeek(null,f,!1);var g;g=b.isArray(e)?e[1]:isNaN(e)?1:e;var h=d.MS_PER_WEEK*(g-1),i=d.getFirstWeekDateOfYear(c,f),j=d.dateUnDST(i.getTime()+h,i.getTimezoneOffset()),k=d.dateUnDST(j.getTime()+(d.MS_PER_WEEK-1),j.getTimezoneOffset());return new a(j,k)},d.weekDateRange=function(a,b,c){var e,f=[],g=d.weekDates(a,b,c),h=g.to.getTime();for(e=g.from.getTime();h>=e;e+=d.MS_PER_DAY)f.push(new Date(e));return f},d.prototype.isSameDay=d.isSameDay,d.prototype.dateOffset=d.dateOffset,d.prototype.weekDateRange=function(a,b){return d.weekDateRange(a||this.year,b||this.week,this.beginningOfWeek)},d.prototype.reloadWeekDates=function(){return this._lWeekDates=this.weekDateRange(),this._lWeekDates},d.prototype.getWeekNumber=function(a,b){return d.dateWeek(a,this.beginningOfWeek,b)},d.prototype.getWeekDates=function(a,b){return d.weekDates(a||this.year,b||this.week,this.beginningOfWeek)},d.prototype.toToday=function(){this._year=this.nowYear,this._week=this.nowWeek,this.reloadWeekDates()},d.prototype.isToday=function(a){var b=d.dateWeek(a,this.bow,!0);return this.year===b[0]&&this.week===b[1]&&this.isSameDay(a)},d.prototype.clampedWeekDates=function(a){a=isNaN(a)?this.week:a;var b=c.clamp(c.normalize(a,1),0,54),d=this.year;return b>53?(d++,a=1):1>b&&(d--,a=53),this.getWeekDates(d,a)},d}]).service("$padLeft",function(){return function(a,b,c){return new Array(b-String(a).length+1).join(c||"0")+a}}).service("$numberUtil",function(){function a(a){return null!==a&&!b.isUndefined(a)&&b.isNumber(a)}function c(c,d){if(d=a(d)?d:0,null===c||b.isUndefined(c))return d;if(a(c))return c;var e=parseFloat(c);return isNaN(e)?d:e}function d(a,b){b=isNaN(b)?0:b;var c=Math.pow(10,b);return a=Math.round(a*c)/c}function e(b,c,e,f){return a(b)||(b=0),a(c)&&(b=Math.max(b,c)),a(e)&&(b=Math.min(b,e)),a(f)&&(b=d(b,f)),b}function f(a,b,e){return a=c(a,0),b=c(b,1),d(a+Math.random()*(b-a),e)}function g(a,b,g,i,j,k){var l,m,n,o=c(a,0),p=c(b,10),q=[];if(j=e(c(j,1),1,null,5),g=e(c(g,1),0,1,5),i=e(c(i,1),0,1,5),a=Math.min(o,p),b=Math.max(o,p),m=b-a,n=m/(m*g)*j,0===m||!isFinite(n))return q;var r=0,s=Math.ceil(m/n);for((!isFinite(s)||s>h)&&(s=h,n=m/s);s>r;)l=0,!isNaN(i)&&i>0&&(l+=f(-n*i,n*i,k)),q.push(e(d(a+(r*n+l),k),a,b,k)),r++;return q}var h=1e4;return{isNumber:a,normalize:c,random:f,round:d,sequence:g,clamp:e}}).factory("Time",["$padLeft","$numberUtil","Calendar",function(a,c,d){function e(a,b,d){return c.clamp(a,b,d,0)}function f(a,b,c,d){this.setHours(a).setMinutes(b).setSeconds(c).setMilliseconds(d)}return Object.defineProperties(f.prototype,{offset:{get:function(){return this.getOffset()},set:function(a){return this.setOffset(a)}}}),f.prototype.getAmPm=function(){return this.hour>=12?"PM":"AM"},f.prototype.get12Hr=function(a){return String(this.hour%12||12)+(a?this.getAmPm():"")},f.prototype.getHours=function(){return this.hour||0},f.prototype.getMinutes=function(b){return b?a(this.minute,2):this.minute||0},f.prototype.getSeconds=function(){return this.second||0},f.prototype.getMilliseconds=function(){return this.msec||0},f.prototype.setHours=function(a){return this.hour=e(a,0,23),this},f.prototype.setMinutes=function(a){return this.minute=e(a,0,59),this},f.prototype.setSeconds=function(a){return this.second=e(a,0,59),this},f.prototype.setMilliseconds=function(a){return this.msec=e(a,0),this},f.prototype.setOffset=function(a){return isNaN(a)||a>=864e5?this:(this.copyFrom(f.fromOffset(a)),this)},f.prototype.getOffset=function(){var a=0;return a+=36e5*this.getHours(),a+=6e4*this.getMinutes(),a+=1e3*this.getSeconds(),a+=this.getMilliseconds()},f.prototype.copyTo=function(a){return!a||!a instanceof f?this:(a.setHours(this.getHours()),a.setMinutes(this.getMinutes()),a.setSeconds(this.getSeconds()),a.setMilliseconds(this.getMilliseconds()),this)},f.prototype.copyFrom=function(a){return!a||!a instanceof f?this:(this.setHours(a.getHours()),this.setMinutes(a.getMinutes()),this.setSeconds(a.getSeconds()),this.setMilliseconds(a.getMilliseconds()),this)},f.prototype.toDate=function(a){var b=new Date(a);return b.setHours(this.getHours()),b.setMinutes(this.getMinutes()),b.setSeconds(this.getSeconds()),b.setMilliseconds(this.getMilliseconds()),b},f.prototype.toString=function(){return[a(this.getHours(),2),a(this.getMinutes(),2),a(this.getSeconds(),2)].join(":")+"."+a(this.getMilliseconds(),3)},f.prototype.equals=function(a){return f.equals(this,a)},f.prototype.before=function(a,b){return f.before(this,a,b)},f.prototype.beforeEq=function(a){return this.before(a,!0)},f.prototype.after=function(a,b){return f.after(this,a,b)},f.prototype.afterEq=function(a){return this.after(a,!0)},f.prototype.between=function(a,b){return f.between(this,a,b)},f.prototype.msOffset=f.prototype.getOffset,f.isSameDay=d.isSameDay.bind(d),f.isFuture=d.isFuture.bind(d),f.isPast=d.isPast.bind(d),f.fromOffset=function(a){a=isNaN(a)?0:Math.min(86399999,Math.max(0,a));var b=new f;return b.setHours(Math.floor(a/36e5)),b.setMinutes(Math.floor(a/6e4%60)),b.setSeconds(Math.floor(a/1e3%60)),b.setMilliseconds(Math.floor(a%1e3)),b},f.fromDate=function(a){return!a||!a instanceof Date?!1:new f(a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds())},f.equals=function(a,b){return a=f.parse(a),b=f.parse(b),a&&b?a.offset===b.offset:!1},f.before=function(a,b,c){return a=f.parse(a),b=f.parse(b),a&&b?c?a.offset<=b.offset:a.offset<b.offset:!1},f.beforeEq=function(a,b){return f.before(a,b,!0)},f.after=function(a,b,c){return a=f.parse(a),b=f.parse(b),a&&b?c?a.offset>=b.offset:a.offset>b.offset:!1},f.afterEq=function(a,b){return f.after(a,b,!0)},f.between=function(a,b,c){a=f.parse(a);var d=b.offset,e=c.offset;return a.after(Math.min(d,e),!0)&&a.before(Math.max(d,e),!0)},f.parse=function(a){if(a instanceof f)return a;if(a instanceof Date)return f.fromDate(a);if(b.isNumber(a))return 864e5>a?f.fromOffset(a):f.fromDate(new Date(a));if(b.isString(a)){var c=/^([0-9]+)\:?([0-9]*)\:?([0-9]*)\.?([0-9]*)(a|p|am|pm|)?$/i;if(!c.test(a))return!1;var d=a.match(c),e=parseInt(d[1]),g=parseInt(d[2]),h=parseInt(d[3]),i=parseInt(d[4]),j=(d[5]||"").toLowerCase();return isNaN(e)||e>23||g>59||h>59?!1:(e>12&&(j=!1),("p"===j||"pm"===j)&&(e+=12),new f(e,g,h,i))}return!1},f}]).factory("DateRange",function(){function a(a,b){this.setDates(a,b)}return Object.defineProperties(a.prototype,{from:{get:function(){return this._from}},to:{get:function(){return this._to}},offset:{get:function(){return this.distanceBetween()}}}),a.prototype.setDates=function(a,b){this._from=new Date(Math.min(a,b)),this._to=new Date(Math.max(a,b))},a.prototype.contains=function(a){return a&&this.from&&this.to?a>=this.from&&a<=this.to:!1},a.prototype.distanceBetween=function(){return a.distanceBetween(this.from,this.to)},a.distanceBetween=function(a,b){return!a||!b||!a instanceof Date||!b instanceof Date?!1:Math.abs(a-b)},a}).factory("TimeRange",["Time","DateRange",function(a,b){function c(a,b){this.setTimes(a,b)}return Object.defineProperties(c.prototype,{from:{get:function(){return this._from}},to:{get:function(){return this._to}},offset:{get:function(){return this.distanceBetween()}}}),c.prototype.setTimes=function(b,c){var d,e,f=a.parse(b),g=a.parse(c);f&&g&&(d=f.offset,e=g.offset,this._from=a.parse(Math.min(d,e)),this._to=a.parse(Math.max(d,e)))},c.prototype.toDate=function(a){return this.from&&this.to?new b(this.from.toDate(a),this.to.toDate(a)):!1},c.prototype.distanceBetween=function(){return c.distanceBetween(this.from,this.to)},c.prototype.equals=function(a){return c.equals(this,a)},c.prototype.before=function(a,b){return c.before(this,a,b)},c.prototype.beforeEq=function(a){return this.before(a,!0)},c.prototype.after=function(a,b){return c.after(this,a,b)},c.prototype.afterEq=function(a){return this.after(a,!0)},c.prototype.between=function(a,b){return c.between(this,a,b)},c.prototype.contains=function(a){return c.contains(this,a)},c.distanceBetween=function(b,c){return!b||!c||!b instanceof a||!c instanceof a?!1:Math.abs(b.msOffset()-c.msOffset())},c.equals=function(a,b){return!a||!b||!a instanceof c||!b instanceof c?!1:a.from.equals(b.from)&&a.to.equals(b.to)},c.before=function(a,b,d){return!a||!b||!a instanceof c||!b instanceof c?!1:d?a.to.before(b.from)||a.to.equals(b.from):a.to.before(b.from)},c.beforeEq=function(a,b){return c.before(a,b,!0)},c.after=function(a,b,d){return!a||!b||!a instanceof c||!b instanceof c?!1:d?a.from.after(b.to)||a.from.equals(b.to):a.from.before(b.to)},c.afterEq=function(a,b){return c.after(a,b,!0)},c.between=function(a,b,d){return!a||!b||!d||!a instanceof c||!b instanceof c||!d instanceof c?!1:a.after(b,!0)&&a.before(d,!0)},c.contains=function(b,d){return!b||!d||!b instanceof c||!d instanceof a?!1:b.from.after(d,!0)&&b.to.before(d,!0)},c.sorter=function(a){return function(b,d){return!b||!d||!b instanceof c||!b instanceof c?0:b.after(d)?a?1:-1:b.before(d)?a?-1:1:0}},c}]).factory("DayGroup",["TimeRange",function(a){function c(a,d,e){this._periods=[],this.title=a,b.isArray(e)&&e.length?this.addPeriods(e):d&&this.addPeriods(c.periodsFromRange(d,isNaN(e)?c.defaultPeriods:e))}return c.defaultPeriods=3,Object.defineProperties(c.prototype,{title:{get:function(){return this._title},set:function(a){this._title=a}},range:{get:function(){return this._range}},periods:{get:function(){return this._periods}}}),c.prototype.$postUpdate=function(){this.periods.sort(a.sorter()),this._range=c.rangeFromPeriods(this.periods)},c.prototype.applyDate=function(a){return{title:this.title,range:this.range.toDate(a),periods:this.periods.map(function(b){return b.toDate(a)})}},c.prototype.clearPeriods=function(){this.periods.splice(0,this.periods.length)},c.prototype.addPeriod=function(b){return!b instanceof a?this:(this.periods.push(b),1===arguments.length&&this.$postUpdate(),this)},c.prototype.addPeriods=function(a){return a?(b.isArray(a)||(a=[a]),a.forEach(this.addPeriod.bind(this)),this.$postUpdate(),this):this},c.prototype.setPeriods=function(a){return this.clearPeriods(),this.addPeriods(a),this},c.periodsFromRange=function(b,c){if(!b||!b instanceof a)return!1;c=isNaN(c)||1>c?1:c;var d,e=[],f=b.from.msOffset(),g=Math.round(b.offset/c);for(d=0;c>d;d++)e.push(new a(f+d*g,f+((d+1)*g-1)));return e},c.rangeFromPeriods=function(c){if(!b.isArray(c)||!c.length)return!1;var d,e;return c.forEach(function(b){!b instanceof a||((!d||d.after(b.from))&&(d=b.from),(!e||e.before(b.to))&&(e=b.to))}),new a(d,e)},c.sorter=function(b){var c=a.sorter(b);return function(a,b){return c(a.range,b.range)}},c}]).factory("Day",["TimeRange","DayGroup","Calendar",function(a,c){function d(a){this._groups=[],this.setGroups(a||d.dayPeriodGroups(d.defaultGroups,c.defaultPeriods))}return d.defaultGroups=3,d.defaultGroupTitles=["Morning","Afternoon","Evening"],Object.defineProperties(d.prototype,{groups:{get:function(){return this._groups}},range:{get:function(){return this._range}}}),d.prototype.$postUpdate=function(){this.groups.sort(c.sorter()),this._range=d.rangeFromGroups(this.groups)},d.prototype.clearGroups=function(){this.groups.splice(0,this.groups.length)},d.prototype.addGroup=function(a){return!a instanceof c?this:(this.groups.push(a),1===arguments.length&&this.$postUpdate(),this)},d.prototype.addGroups=function(a){return a?(b.isArray(a)||(a=[a]),a.forEach(this.addGroup.bind(this)),this.$postUpdate(),this):this},d.prototype.setGroups=function(a){return this.clearGroups(),this.addGroups(a),this},d.prototype.applyDate=function(a){var b=this.range;return{date:a,range:b.toDate(a),groups:this.groups.map(function(b){return b.applyDate(a)})}},d.dayPeriodGroups=function(b,e,f){b=isNaN(b)?1:b,e=isNaN(e)?1:e,f=f||d.defaultGroupTitles;var g,h,i=[],j=Math.round(864e5/b);for(g=0;b>g;g++)h=g*j,i.push(new c(f[g],new a(h,h+(j-1))));return i},d.rangeFromGroups=function(d){if(!b.isArray(d)||!d.length)return!1;var e,f;return d.forEach(function(a){!a instanceof c||((!e||e.after(a.range.from))&&(e=a.range.from),(!f||f.before(a.range.to))&&(f=a.range.to))}),new a(e,f)},d}]).factory("DateStore",["DateRange",function(a){function c(a,b){this._records=[],this.dateProperty=a||"date",this.setRecords(b)}return Object.defineProperties(c.prototype,{records:{get:function(){return this._records.slice()}},dates:{get:function(){return this._dates.slice()}},length:{get:function(){return this._records.length}},dateProperty:{get:function(){return this._dateProperty},set:function(a){this._dateProperty=a,this.$postUpdate()}}}),c.prototype.$postUpdate=function(){var a=this.dateProperty;a&&(this._records.sort(c.sorter(a)),this._dates=this._records.map(function(b){return b[a]}))},c.prototype.slice=function(a,b){return this._records.slice(a,b)},c.prototype.clearRecords=function(){this._records.splice(0,this.records.length),this.$postUpdate()},c.prototype.addRecord=function(a){return a&&(b.isObject(a)||b.isArray(a))?(this._records.push(a),1===arguments.length&&this.$postUpdate(),this):this},c.prototype.addRecords=function(a){return a?(b.isArray(a)||(a=[a]),a.forEach(this.addRecord.bind(this)),this.$postUpdate(),this):this},c.prototype.setRecords=function(a){return this.clearRecords(),this.addRecords(a),this},c.prototype.queryDateRange=function(b){if(!b||!b instanceof a)return this.records;var d=c.binarySearchRange(b,this.dates);return d?this.slice(d.start,d.end):[]},c.binarySearchNearestDate=function(a,b){for(var c,d,e,f,g=0,h=b.length-1,i=-1;h>=g;){if(c=(g+h)/2|0,d=b[c],e=Math.abs(a-d),a>d)g=c+1;else{if(!(d>a))return c;h=c-1}(void 0===f||f>e)&&(f=e,i=c)}return i},c.binarySearchRange=function(a,b){for(var c,d,e,f=a.from,g=a.to,h=0,i=b.length-1;i-h>1;)e=Math.floor((i+h)/2),b[e]<f?h=e:i=e;for(c=h;i>=c&&b[c]<f;)c++;for(i=b.length-1;i-h>1;)e=Math.floor((i+h)/2),b[e]>g?i=e:h=e;for(d=i;d>=h&&b[d]>g;)d--;var j=d-c+1;return 0===j?!1:{start:c,end:c+j,length:j}},c.sorter=function(a,b){return a=a||"date",function(c,d){return c&&d&&c[a]&&d[a]?c[a]>d[a]?b?-1:1:c[a]<d[a]?b?1:-1:0:!1}},c}]).filter("join",[function(){return function(a,c){return c=c||", ",b.isArray(a)?a.join(c):a}}]).filter("time",["$filter","Time",function(a,b){var c=a("date"),d="fullTime";return function(a,e){return a?a instanceof Date?e===d?b.fromDate(a).toString():c(a,e):!a instanceof b?"":e===d?a.toString():c(a.toDate(new Date),e):""}}]).filter("dateRange",["$filter","DateRange",function(a,b){var c=a("join"),d=(a("time"),a("date"));return function(a,e,f,g){e=e||"fullDate",f=f||e,g=g||" to ";var h=[];return!a||!a instanceof b?"":(a.from&&h.push(d(a.from,e)),a.to&&h.push(d(a.to,f)),c(h,g))}}]).filter("timeRange",["$filter","TimeRange",function(a,b){var c=a("join"),d=a("time");return function(a,e,f,g){if(g=g||" to ",e=e||"fullTime",f=f||e,!a||!a instanceof b)return"";var h=[];return a.from&&h.push(d(a.from,e)),a.to&&h.push(d(a.to,f)),c(h,g)}}])}(window,window.angular);